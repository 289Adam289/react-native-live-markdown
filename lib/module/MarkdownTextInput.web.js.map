{"version":3,"names":["React","useEffect","useRef","useCallback","useMemo","useLayoutEffect","StyleSheet","ParseUtils","CursorUtils","StyleUtils","InputHistory","require","useClientEffect","window","createReactDOMStyle","default","e","Error","preprocessStyle","dangerousStyleValue","focusTimeout","normalizeValue","value","replace","isEventComposing","nativeEvent","isComposing","keyCode","ZERO_WIDTH_SPACE","getPlaceholderValue","placeholder","length","processUnitsInMarkdownStyle","input","output","JSON","parse","stringify","Object","keys","forEach","key","obj","prop","processMarkdownStyle","mergeMarkdownStyleWithDefault","getElementHeight","node","styles","numberOfLines","tempElement","document","createElement","setAttribute","assign","style","innerText","Array","fill","join","parentElement","appendChild","height","clientHeight","removeChild","MarkdownTextInput","forwardRef","accessibilityLabel","accessibilityLabelledBy","accessibilityRole","autoCapitalize","autoCorrect","blurOnSubmit","clearTextOnFocus","dir","disabled","multiline","markdownStyle","onBlur","onChange","onChangeText","onClick","onFocus","onKeyPress","onSelectionChange","onSubmitEditing","placeholderTextColor","selectTextOnFocus","spellCheck","selection","autoFocus","ref","compositionRef","pasteRef","divRef","currentlyFocusedField","contentSelection","className","history","current","flattenedStyle","flatten","heightSafePlaceholder","setEventProps","text","target","parseText","customMarkdownStyles","cursorPosition","shouldAddToHistory","parsedText","debouncedAdd","processedMarkdownStyle","newMarkdownStyle","inputStyles","defaultInputStyles","caretColor","color","disabledInputStyles","undo","item","redo","processedValue","updateTextColor","String","handleSelectionChange","event","updateRefSelectionVariables","newSelection","start","end","markdownHTMLInput","selectionStart","selectionEnd","updateSelection","predefinedSelection","getCurrentCursorPosition","handleOnChangeText","HTMLElement","inputType","normalizedText","handleKeyPress","hostNode","stopPropagation","metaKey","preventDefault","shiftKey","blurOnSubmitDefault","shouldBlurOnSubmit","isDefaultPrevented","execCommand","scrollCursorIntoView","setTimeout","blur","handleFocus","valueLength","setCursorPosition","clearTimeout","handleBlur","removeSelection","handleClick","handlePaste","startComposition","setRef","currentRef","r","isFocused","activeElement","clear","undefined","parseAndStyleValue","adjustHeight","elementHeight","maxHeight","focus","_history$current","currentValue","add","contentEditable","role","onKeyDown","onCompositionStart","onKeyUp","onInput","onPaste","create","borderColor","borderWidth","borderStyle","fontFamily","boxSizing","whiteSpace","overflowY","overflowX","overflowWrap","opacity","cursor"],"sourceRoot":"../../src","sources":["MarkdownTextInput.web.tsx"],"mappings":"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"}